---
layout: layouts/base.njk
title: ARNOLOOG
---

<section class="home">
  <div class="home-grid">
    {% for roll in photos.rolls %}
      {# binnen elke roll: omkeren zodat 01 onderaan zit #}
      {% for item in roll.grid | reverse %}
        {% if item.isTrigger %}
          <a href="/rolls/{{ roll.name }}/" class="grid-item grid-item--trigger">
            <img src="{{ item.src }}" loading="lazy" alt="">
          </a>
        {% else %}
          <div class="grid-item">
            <img src="{{ item.src }}" loading="lazy" alt="">
          </div>
        {% endif %}
      {% endfor %}
    {% endfor %}
  </div>

  <div class="fast-scroll-thumb" aria-label="fast scroll"></div>
</section>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const grid = document.querySelector(".home-grid");
  const items = grid.querySelectorAll(".grid-item, .grid-item--trigger");

  // ======= EXTREME CHAOS PER ROLL =======
  // We gebruiken 15 items per roll voor chaos
  // rolls worden achter elkaar gezet, dus we detecteren boundaries
  
  const CHAOS_PER_ROLL = 15;
  let index = 0;

  // Bepaal hoeveel items per roll (jouw structuur gebruikt rolls achter elkaar)
  // Dus we geven elke 15 items chaos.
  items.forEach((item, i) => {
    if (i % CHAOS_PER_ROLL < CHAOS_PER_ROLL) {
      item.style.setProperty("--randX", Math.random());
      item.style.setProperty("--randY", Math.random());
      item.style.setProperty("--randR", Math.random());
      item.style.setProperty("--randS", Math.random());
    }
  });

  // ======= SCROLL DELAY TOT PUZZEL SAMENKLIKT =======
  let activated = false;
  const SCROLL_TRIGGER = 180; // iets verder scrollen

  const onScroll = () => {
    if (!activated && window.scrollY > SCROLL_TRIGGER) {
      activated = true;
      grid.classList.add("ready");
    }
  };

  window.addEventListener("scroll", onScroll);
});
</script>
