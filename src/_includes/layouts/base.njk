<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>{{ title or "ARNOLOOG" }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ARNOLOOG – Analog photography.">

    <!-- cache-buster tijdens testen -->
    <link rel="stylesheet" href="{{ '/styles.css?v=4' | url }}">
  </head>

  <body class="page">
    <header class="site-header">
      <div class="site-header__inner">

        <!-- LOGO -->
        <a href="{{ '/' | url }}" class="logo logo--hang" aria-label="ARNOLOOG">
          <span class="hang hang--1"><span class="char">A</span></span>
          <span class="hang hang--2"><span class="char">R</span></span>
          <span class="hang hang--3"><span class="char">N</span></span>
          <span class="hang hang--4"><span class="char">O</span></span>
          <span class="hang hang--5"><span class="char">L</span></span>
          <span class="hang hang--6"><span class="char">O</span></span>
          <span class="hang hang--7"><span class="char">O</span></span>
          <span class="hang hang--8"><span class="char">G</span></span>
        </a>

        <!-- NAV -->
        <nav class="nav">
          <a href="{{ '/' | url }}">grid</a>
          <a href="{{ '/rolls/' | url }}">rolls</a>
        </nav>

      </div>
    </header>

    <main class="site-main">
      {{ content | safe }}
    </main>

    <footer class="site-footer">
      <p>&copy; {{ "now" | date("yyyy") }} ARNOLOOG – Analog photography.</p>
    </footer>

    <script>
      // snelle scroll thumb rechts (Spotify-style)
      (function () {
        const thumb = document.querySelector(".fast-scroll-thumb");
        if (!thumb) return;

        function scrollToPosition(clientY) {
          const h = window.innerHeight;
          const ratio = clientY / h;
          const maxScroll = document.documentElement.scrollHeight - h;
          window.scrollTo({
            top: maxScroll * ratio,
            behavior: "auto",
          });
        }

        thumb.addEventListener("mousedown", (e) => {
          e.preventDefault();
          scrollToPosition(e.clientY);
          function move(ev) {
            scrollToPosition(ev.clientY);
          }
          function up() {
            window.removeEventListener("mousemove", move);
            window.removeEventListener("mouseup", up);
          }
          window.addEventListener("mousemove", move);
          window.addEventListener("mouseup", up);
        });

        thumb.addEventListener(
          "touchstart",
          (e) => {
            if (!e.touches.length) return;
            function move(ev) {
              if (!ev.touches.length) return;
              scrollToPosition(ev.touches[0].clientY);
            }
            function end() {
              window.removeEventListener("touchmove", move);
              window.removeEventListener("touchend", end);
            }
            window.addEventListener("touchmove", move, { passive: true });
            window.addEventListener("touchend", end);
            scrollToPosition(e.touches[0].clientY);
          },
          { passive: true }
        );
      })();
    </script>
  </body>
</html>
