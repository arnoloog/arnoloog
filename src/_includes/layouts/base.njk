<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>{{ title or "ARNOLOOG" }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ARNOLOOG – Analog photography.">

    <!-- cache-buster tijdens testen -->
    <link rel="stylesheet" href="{{ '/styles.css?v=4' | url }}">
  </head>

  <body class="page">
    <header class="site-header">
      <div class="site-header__inner site-header__inner--centered">

        <!-- GRID ICON (LEFT) -->
        <nav class="nav nav--icons nav--left">
          <a href="{{ '/' | url }}" aria-label="Grid" class="nav-icon nav-icon--grid">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <!-- meer grid, minder hashtag -->
              <path d="M3 8h18M3 16h18M8 3v18M16 3v18"></path>
            </svg>
          </a>
        </nav>

        <!-- LOGO (CENTER) -->
        <a href="{{ '/' | url }}" class="logo logo--hang logo--center" aria-label="ARNOLOOG">
          <span class="hang hang--1"><span class="char">A</span></span>
          <span class="hang hang--2"><span class="char">R</span></span>
          <span class="hang hang--3"><span class="char">N</span></span>
          <span class="hang hang--4"><span class="char">O</span></span>
          <span class="hang hang--5"><span class="char">L</span></span>
          <span class="hang hang--6"><span class="char">O</span></span>
          <span class="hang hang--7"><span class="char">O</span></span>
          <span class="hang hang--8"><span class="char">G</span></span>
        </a>

        <!-- ROLLS ICON (RIGHT) -->
        <nav class="nav nav--icons nav--right">
          <a href="{{ '/rolls/' | url }}" aria-label="Rolls" class="nav-icon nav-icon--rolls">
            <!-- filmrol + filmstrip (lijnstijl, maar duidelijk “rolletje”) -->
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <!-- canister body -->
              <path d="M13.5 5.5c4 0 7 1.2 7 2.8v9.9c0 1.6-3 2.8-7 2.8s-7-1.2-7-2.8V8.3c0-1.6 3-2.8 7-2.8z"></path>
              <ellipse cx="13.5" cy="8.3" rx="7" ry="2.8"></ellipse>

              <!-- top cap hint -->
              <ellipse cx="13.5" cy="6.1" rx="3.2" ry="1.2"></ellipse>

              <!-- film strip coming out (left) -->
              <path d="M6.7 11.2h-2.2c-1.5 0-2.5.8-2.5 2s1 2 2.5 2h2.2"></path>
              <path d="M6.7 11.2c0 0-1.1 0.2-1.1 2s1.1 2 1.1 2"></path>

              <!-- sprocket holes (suggestion, minimal) -->
              <path d="M3.2 12.1h0.01M4.6 12.1h0.01M3.2 14.3h0.01M4.6 14.3h0.01"></path>
            </svg>
          </a>
        </nav>

      </div>
    </header>

    <main class="site-main">
      {{ content | safe }}
    </main>

    <footer class="site-footer">
      <p>&copy; {{ "now" | date("yyyy") }} ARNOLOOG – Analog photography.</p>
    </footer>

    <script>
      // snelle scroll thumb rechts (Spotify-style)
      (function () {
        const thumb = document.querySelector(".fast-scroll-thumb");
        if (!thumb) return;

        function scrollToPosition(clientY) {
          const h = window.innerHeight;
          const ratio = clientY / h;
          const maxScroll = document.documentElement.scrollHeight - h;
          window.scrollTo({
            top: maxScroll * ratio,
            behavior: "auto",
          });
        }

        thumb.addEventListener("mousedown", (e) => {
          e.preventDefault();
          scrollToPosition(e.clientY);
          function move(ev) {
            scrollToPosition(ev.clientY);
          }
          function up() {
            window.removeEventListener("mousemove", move);
            window.removeEventListener("mouseup", up);
          }
          window.addEventListener("mousemove", move);
          window.addEventListener("mouseup", up);
        });

        thumb.addEventListener(
          "touchstart",
          (e) => {
            if (!e.touches.length) return;
            function move(ev) {
              if (!ev.touches.length) return;
              scrollToPosition(ev.touches[0].clientY);
            }
            function end() {
              window.removeEventListener("touchmove", move);
              window.removeEventListener("touchend", end);
            }
            window.addEventListener("touchmove", move, { passive: true });
            window.addEventListener("touchend", end);
            scrollToPosition(e.touches[0].clientY);
          },
          { passive: true }
        );
      })();
    </script>
  </body>
</html>
